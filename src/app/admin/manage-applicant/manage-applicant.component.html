<div class="container" >

    <div class="heading">
        <h2> <span>admin ></span> Manage Applicants</h2>
        <hr>
    </div>

    <mat-spinner *ngIf="isLoading"></mat-spinner>

    <app-search-bar (searchEvent)="search($event)"></app-search-bar>

    <!-- buttons for bulk operation -->
    <div class="button-container">

        <button *ngIf="!newapplicantsFlag" mat-raised-button color="primary" style="margin-right: 1rem;"
            ngClass="header" (click)="feedbackDialog(_checkedArr)" [disabled]="_checkedArr.length<1">Bulk
            Review</button>
        <button *ngIf="!newapplicantsFlag" mat-raised-button color="primary" [disabled]="_checkedArr.length<1"
            ngClass="header" (click)="nextRound(_checkedArr)">Bulk Promote</button>
        <button mat-raised-button color="primary" style="margin-left: 1rem;" ngClass="header"
            (click)="getNewApplicants()">{{btnLabel}}</button>
    </div>

    <!-- approved applicants  -->
    <div class="main-container">
        <div  *ngIf="!newapplicantsFlag" class="mat-elevation-z8 table-container">
            <li class="table-header li">
                <div class="col col-1">select</div>
                <!-- <div class="col col-2">id</div> -->
                <div class="col col-2">Sr No.</div>
                <div class="col col-3">Name</div>
                <div class="col col-4">Stream</div>
                <div class="col col-5">Stage</div>
                <div class="col col-6">Round</div>
                <div class="col col-7">Status</div>
                <div class="col col-8">Action</div>
            </li>
            <li class="table-row li err-display" *ngIf="dataSource.length<1">No Data Found</li>

            <li *ngFor="let i of dataSource | paginate: {itemsPerPage: 10, currentPage: p, totalItems: total}; index as ind"
                class="table-row li">
                <div class="col col-1" data-label="select"><span><mat-checkbox color="primary"
                            style="vertical-align: top;" [value]="i" (change)="toggle($event)"></mat-checkbox></span>
                </div>
                <div class="col col-2">{{ind+1}}</div>
                <div class="col col-3" data-label="Name"><a style="text-decoration: none; color: black;"
                        routerLink="profile/{{i.uid}}">{{i.firstname + " " +i.lastname | titlecase}}</a></div>
                <div class="col col-4" data-label="stream">{{i.stream | uppercase}}</div>
                <div class="col col-5" data-label="stage">{{i.stage}}</div>
                <div class="col col-6" data-label="stage">{{i.round}}</div>
                <div class="col col-7" #status data-label="Status">{{i.status | color:status}}</div>
                <div class="col col-8" data-label="actions">
                    <button mat-icon-button (click)="nextRound(i)" [disabled]="i.status!=='Test Cleared'"
                        matTooltip="Promote">
                        <mat-icon>forward</mat-icon>
                    </button>
                    <button mat-icon-button matTooltip="Review" (click)="feedbackDialog(i)">
                        <mat-icon>comment</mat-icon>
                    </button>
                </div>
            </li>
            <li class="li col align-end"><pagination-controls
                    (pageChange)="pageChangeEvent($event)"></pagination-controls></li>
        </div>

        <!-- new applicants -->
        <div *ngIf="newapplicantsFlag" class="mat-elevation-z8 table-container">
            <li class="table-header li">
                <!-- <div class="col col-1">select</div> -->
                <div class="col col-2">Sr No.</div>
                <div class="col col-3">Name</div>
                <div class="col col-4">Stream</div>
                <div class="col col-7">Action</div>
            </li>

            <li *ngFor="let j of dataSource2; index as ind" class="table-row li">
                <!-- <div class="col col-1" data-label="select"><span><mat-checkbox color="primary" style="vertical-align: top;"
                            [value]="j.id" (change)="toggle($event)"></mat-checkbox></span></div> -->
                <div class="col col-2" data-label="SrNo">{{ind+1}}</div>
                <div class="col col-3" data-label="Name">{{j.firstname + " " +j.lastname | titlecase}}</div>
                <div class="col col-4" data-label="stream">{{j.stream | uppercase}}</div>
                <div class="col col-7" data-label="actions">
                    <button mat-icon-button matTooltip="promote" [id]="j.id" (click)="addToProcess(j)">
                        <mat-icon>add</mat-icon>
                    </button>
                </div>
            </li>
        </div>
    </div>

</div>